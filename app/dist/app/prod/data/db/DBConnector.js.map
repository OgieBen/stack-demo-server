{"version":3,"sources":["../../../../../prod/data/db/DBConnector.js"],"names":["DBConnector","_pool","Pool","user","host","database","password","port","errCallback","query","callback","getPool","toString","err","res","console","log","pool","end","_connect"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;;;;;IAGaA,W;AAET,2BAAa;AAAA;;AACT;AACA,aAAKC,KAAL,GAAa,IAAIC,QAAJ,CAAS;AAClBC,kBAAM,EADY;AAElBC,kBAAM,EAFY;AAGlBC,sBAAU,EAHQ;AAIlBC,sBAAU,EAJQ;AAKlBC,kBAAM;AALY,SAAT,CAAb;AAQH;;AAED;AACA;;;;;;;;;;;;;AAcA;;;;;;;;;;;8BAOMC,W,EAAaC,M,EAAOC,Q,EAAS;;AAE/B,iBACKC,OADL,GAESF,KAFT,CAEeA,OAAMG,QAAN,EAFf,EAEiC,UAACC,GAAD,EAAMC,GAAN,EAAc;AACnCC,wBAAQC,GAAR,CAAYH,GAAZ,EAAiBC,GAAjB;;AAEA,oBAAGD,GAAH,EAAO;AACHL;AACA,2BAAO,KAAP;AACH;;AAEDE;AACAO,qBAAKC,GAAL;AACH,aAZT;AAaH;;;4BAEGL,G,EAAKH,Q,EAAS;AACf,mBAAO,KAAKS,QAAL,CAAcN,GAAd,EAAmBH,QAAnB,CAAP;AACF;;;kCAEQ;AACL,mBAAO,KAAKT,KAAZ;AACH;;;iCAGO;AACJ;AACA;AACH","file":"DBConnector.js","sourcesContent":["import pg, {Pool, Client} from 'pg';\nimport config from 'dotenv'\n\n\nexport class DBConnector {\n    \n    constructor(){\n        // this.configString = config['PG_CONNECT'];\n        this._pool = new Pool({\n            user: '',\n            host: '',\n            database: '',\n            password: '',\n            port: 3211,\n        });\n        \n    }\n\n    // callback takes client object\n    /* _connect(err, callback){\n        pg.connect(this.configString, (err, client, done) => {\n                \n            if(err){\n                    err();\n                    return;\n                }\n            callback(client);\n            done()\n            return\n\n        });\n    } */\n\n    /**\n     * Executes Queries\n     * \n     * @param {Callback} errCallback \n     * @param {String} query \n     * @param {Callback} callback \n     */\n    query(errCallback, query, callback){\n        \n        this\n            .getPool()\n                .query(query.toString(), (err, res) => { \n                    console.log(err, res)\n\n                    if(err){\n                        errCallback();\n                        return false;\n                    }\n\n                    callback()\n                    pool.end()\n                });\n    }\n\n    run(err, callback){\n       return this._connect(err, callback);\n    }\n\n    getPool(){\n        return this._pool;\n    }\n\n\n    tester(){\n        return `Testing DBConncter! ` ; \n        // ${config['PG_CONNET']}\n    }\n\n\n}"]}