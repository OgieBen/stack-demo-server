<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Document</title>
</head>

<body>
    <form action="/api/v1/questions" method="POST">
        <label for="">Add a question</label>
        <input placeholder="user id" name="userId" type="text">
        <input placeholder="question" name="question" type="text">
        <input type="submit" value="submit question">
    </form>


    <br>

    <h1>Testing Add Answer</h1>
    <form action="/api/v1/questions/1/answers" method="POST">
        <label for="">Add Answer</label>
        <input placeholder="user Id" name="userId" type="text">
        <input placeholder="answer" name="answer" type="text">
        <input placeholder="question Id" name="questionId" type="text">
        <input type="submit" value="submit answer">
    </form>


    <br>

    <h1>Testing Signup</h1>

    <form action="/api/v1/auth/signup" method="POST">
        <label for="">Sign Up</label>
        <input placeholder="name" name="name" type="text">
        <input placeholder="Email" name="email" type="text">
        <input placeholder="Password" name="password" type="text">
        <input type="submit" value="submit answer">
    </form>


    <br>
    <h1>Testing Put</h1>
    <button id="put" type="submit"> Test Put</button>
    <input placeholder="Update entry" type="text" id="answer-content">


    <br><h1>For Testing Delete/Update</h1>
    <button id="delete" type="submit"> Test delete</button>
    <input id="delete-question" type="text" name="" id="">


    <br><br>
    <br><h1>Testing Add Comment</h1>
    <button id="add-comment-button" type="submit"> Add Comment</button>
    <input placeholder="Comment" id="add-comment-input" type="text" name="" id="">
    <input placeholder="Question id" id="add-comment-qId" type="text">
    <input placeholder="Answer Id" id="add-comment-input-aId" type="text">
    

    <br>
    <script>

        $('#put').on('click', (event) => {

            let content = $('#answer-content').val();

            axios({
                method: 'put',
                url: '/api/v1/questions/1/answers/1',
                data: {
                    questionId: 1,
                    answerId: 1,
                    accept: true,
                    userId: 1,
                    answer: content.toString(),


                }
            })
                .then(function (response) {
                    console.log(response.data.msg);
                    alert(response.data.msg + "");
                })
                .catch((e) => {
                    console.error(e);
                    alert(response + "");
                });
        });


        $('#add-comment-button').on('click', (event) => {

            let content = $('#add-comment-input').val();
            let questionId = $('#add-comment-qId').val();
            let answerId = $('#add-comment-input-aId').val();
            
            axios({
                method: 'post',
                url: `/api/v1/questions/${questionId}/answers/${answerId}/comments`,
                data: {
                    answerId: answerId,
                    userId: 1,
                    comment: content.toString(),
                }
            })
                .then(function (response) {
                    console.log(response.data.msg);
                    alert(response.data.msg + "");
                })
                .catch((e) => {
                    console.error(e);
                    alert(response + "");
                });
        });

        $('#delete').on('click', (event) => {

            let questionId = $('#delete-question').val();


            axios({
                method: 'delete',
                url: `/api/v1/questions/${questionId}`,
                data: {
                    questionId: questionId,
                    answerId: 1,
                    accept: false,
                    userId: 1,

                }
            })
                .then(function (response) {
                    console.log(response.data.msg);
                    alert(response.data.msg + "");
                })
                .catch((e) => {
                    console.error(e);
                    alert(response + "");
                });
        });


    </script>
</body>

</html>